{% extends 'base.html' %}
{% block content %}
<div class="p-3 mt-4">
  <div class="container">
    <div class="row">
      <div class="col-md-8">
        <div class="card">
          <div class="card-body">
            <h2 class="card-title">{{ template_data.job.title }}</h2>
            <h4 class="card-subtitle mb-3 text-muted">{{ template_data.job.company }}</h4>
            
            <div class="row mb-4">
              <div class="col-md-6">
                <p><i class="fas fa-map-marker-alt"></i> <strong>Location:</strong> {{ template_data.job.location }}</p>
                <p><i class="fas fa-briefcase"></i> <strong>Job Type:</strong> {{ template_data.job.get_job_type_display }}</p>
                <p><i class="fas fa-user-tie"></i> <strong>Experience Level:</strong> {{ template_data.job.get_experience_level_display }}</p>
              </div>
              <div class="col-md-6">
                <p><i class="fas fa-dollar-sign"></i> <strong>Salary:</strong> {{ template_data.job.salary_range }}</p>
                <p><i class="fas fa-calendar"></i> <strong>Posted:</strong> {{ template_data.job.created_at|date:"F d, Y" }}</p>
                {% if template_data.job.application_deadline %}
                <p><i class="fas fa-clock"></i> <strong>Deadline:</strong> {{ template_data.job.application_deadline|date:"F d, Y" }}</p>
                {% endif %}
              </div>
            </div>
            
            <hr>
            
            <h5>Job Description</h5>
            <p class="mb-4">{{ template_data.job.description|linebreaks }}</p>
            
            <h5>Requirements</h5>
            <p class="mb-4">{{ template_data.job.requirements|linebreaks }}</p>
            
            {% if template_data.job.benefits %}
            <h5>Benefits & Perks</h5>
            <p class="mb-4">{{ template_data.job.benefits|linebreaks }}</p>
            {% endif %}
          </div>
        </div>
      </div>
      
      <div class="col-md-4">
        <div class="card">
          <div class="card-body">
            <h5>Apply for this position</h5>
            <p class="text-muted">Contact the employer directly or apply through their preferred method.</p>
            <button class="btn btn-primary w-100 mb-3">
              <i class="fas fa-paper-plane"></i> Apply Now
            </button>
            
            <div class="d-grid gap-2">
              <button class="btn btn-outline-secondary">
                <i class="fas fa-heart"></i> Save Job
              </button>
              <button class="btn btn-outline-secondary">
                <i class="fas fa-share"></i> Share Job
              </button>
            </div>
          </div>
        </div>
        
        <div class="card mt-3">
          <div class="card-body">
            <h6>Posted by</h6>
            <p class="mb-1"><strong>{{ template_data.job.posted_by.get_full_name|default:template_data.job.posted_by.username }}</strong></p>
            <p class="text-muted small">Member since {{ template_data.job.posted_by.date_joined|date:"F Y" }}</p>
            
            {% if user == template_data.job.posted_by %}
            <hr>
            <div class="d-grid gap-2">
              <a href="{% url 'jobs.edit' template_data.job.id %}" class="btn btn-outline-primary btn-sm">
                <i class="fas fa-edit"></i> Edit Job
              </a>
              <a href="{% url 'jobs.my_jobs' %}" class="btn btn-outline-secondary btn-sm">
                <i class="fas fa-list"></i> My Jobs
              </a>
            </div>
            {% endif %}
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock content %}
